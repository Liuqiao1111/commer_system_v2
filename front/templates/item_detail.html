{% extends 'base.html' %}

{% block title %}

{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/post_detail.css' %}">
    <script src="{% static 'js/item_detail.js' %}"></script>
{% endblock %}

{% block body %}
    <div class="post-container">
        <h2>{{ item.name }}</h2>
        <p class="post-info-group">
            <span>所属类别：{{ item.category.name }}</span>
        </p>
        <div class="">
            <img src="/image/{{ item.image }}" alt="" style="width: 300px;height: 200px">
        </div>

        <div class="post-content">
            <p>价格：{{ item.price }}元</p>
            <p>介绍：{{ item.content }}</p>
            <p>尺寸：{{ item.size }}</p>
            <div class="form-group">
                <label for="size-select">选择尺寸：</label>
                <select class="form-control" id="size-select" style="width: 100px;" required>
                    {% for size in item.SIZE_CHOICES %}
                        <option value="{{ size.0 }}" {% if item.size == size.0 %}selected{% endif %}>{{ size.1 }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="number-input">数量：</label>
                <input type="number" class="form-control" id="number-input" value="1" min="1" max="{{ item.number }}" style="width: 100px;">
            </div>
            <p>库存数量：{{ item.number }}</p>
            <p>上架时间：{{ item.create_time }}</p>
        </div>

        <div class="" style="margin-bottom: 40px">
            <button class="btn btn-sm btn-danger pull-right " id="add-car-btn" item-id="{{ item.id }}"
                    style="margin-left: 30px;">加入购物车
            </button>
            <button class="btn btn-sm btn-primary pull-right " id="add-order-btn" item-id="{{ item.id }}">购买
            </button>
        </div>
    </div>
    <div class="comment-group">
        <h3>评论列表</h3>
        <ul class="comment-list-group">
            {% for comment in comments %}
                <li>
                    <div class="comment-content">
                        <p class="author-info">
                            <span>{{ comment.user.username }}</span>
                            <span>{{ comment.create_time }}</span>
                        </p>
                        <p class="comment-txt">
                            {{ comment.content }}
                        </p>
                    </div>
                </li>
            {% endfor %}

        </ul>
    </div>
    <div class="add-comment-group">
        <h3>发布留言</h3>
        <textarea name="comment" id="comment-textarea" style="width: 100%; resize:vertical;"></textarea>
        <div class="comment-btn-group">
            <button class="btn btn-primary" id="add-comment-btn" item-id="{{ item.id }}">发布留言
            </button>
        </div>
    </div>

{% endblock %}